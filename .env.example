# EPG Merge Environment Variables (v0.4.8)
# Copy to .env and customize for your environment
# For Docker: Most defaults work as-is (/data paths are container paths)
# For Production: Use absolute paths like /opt/epg-merge/data or /srv/epg-merge/data

# ============================================================================
# APPLICATION PORTS
# ============================================================================

# Frontend port (default: 80)
# Change to 8080 if port 80 not available
FRONTEND_PORT=80

# Backend API port (default: 9193)
# Change to 8000 if port 9193 not available
BACKEND_PORT=9193

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================

# API base URL for frontend to reach backend
# Docker default: http://localhost:9193 (or http://your-server-ip:9193)
# Production: http://your-server-ip:9193 or http://your-domain.com
REACT_APP_API_BASE=http://localhost:9193

# Frontend environment
REACT_APP_ENV=production

# ============================================================================
# BACKEND CONFIGURATION
# ============================================================================

# Environment (development or production)
ENVIRONMENT=production

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Service port (INTERNAL - leave as 9193)
SERVICE_PORT=9193

# Python settings
PYTHONUNBUFFERED=1

# ============================================================================
# DATA DIRECTORY PATHS (MUST be absolute paths)
# ============================================================================

# Main data directory (stores tmp, current, archives, epg_cache)
# Docker: /data (mounted via volumes)
# Production: /opt/epg-merge/data or /srv/epg-merge/data
DATA_DIR=/data

# Config directory (stores app.db database)
# Docker: /config (mounted via volumes)
# Production: /opt/epg-merge/config or /etc/epg-merge
CONFIG_DIR=/config

# Temporary merge files directory
# Default: {DATA_DIR}/tmp
# You can override if needed
TMP_DIR=/data/tmp

# Current (live) merged EPG file directory
# Default: {DATA_DIR}/current
# You can override if needed
CURRENT_DIR=/data/current

# Archive directory (stores previous versions)
# Default: {DATA_DIR}/archives
# You can override if needed
ARCHIVE_DIR=/data/archives

# Channel versions directory (stores saved channels JSON)
# Default: {DATA_DIR}/channels
# You can override if needed
CHANNELS_DIR=/data/channels

# EPG file cache directory
# Default: {DATA_DIR}/epg_cache
# You can override if needed
CACHE_DIR=/data/epg_cache

# Database file path
# Default: {CONFIG_DIR}/app.db
# You can override if needed
DB_PATH=/config/app.db

# ============================================================================
# TIMEZONE
# ============================================================================

# Timezone for scheduling (affects merge times)
# Examples: America/Toronto, UTC, Europe/London, Asia/Tokyo
# Default: America/Toronto
TZ=America/Toronto

# ============================================================================
# OPTIONAL: Notifications
# ============================================================================

# Discord webhook for merge completion notifications (optional)
# Format: https://discord.com/api/webhooks/XXXXXXX/XXXXXXX
DISCORD_WEBHOOK=

# ============================================================================
# SECURITY (Optional - for future use)
# ============================================================================

# CORS allowed origins (optional - currently all origins allowed)
# Comma-separated list of allowed domains
# Example: http://localhost,http://localhost:3000,https://your-domain.com
# For now: * (all origins allowed)
CORS_ORIGINS=*

# Secret key for sessions/tokens (optional - not currently used)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# Only needed if authentication is added in the future
SECRET_KEY=

# ============================================================================
# OPTIONAL: Monitoring & Debugging
# ============================================================================

# Sentry error tracking (optional)
SENTRY_DSN=

# Number of worker threads
WORKERS=1

# ============================================================================
# DOCKER COMPOSE ONLY
# ============================================================================

# Internal network name (for Docker)
NETWORK_NAME=epg-network

# ============================================================================
# CONFIGURATION TIPS
# ============================================================================

# DOCKER USERS:
#   - DATA_DIR=/data (matched to ./data volume mount)
#   - CONFIG_DIR=/config (matched to ./config volume mount)
#   - Ports: Use any available ports (default 80, 9193)
#   - REACT_APP_API_BASE: For local access use http://localhost:9193
#                         For remote access use http://your-server-ip:9193

# PRODUCTION USERS (systemd/bare metal):
#   - DATA_DIR=/opt/epg-merge/data (or your choice)
#   - CONFIG_DIR=/opt/epg-merge/config (or your choice)
#   - Paths MUST be absolute (start with /)
#   - Ensure directories exist and have proper permissions
#   - Example: sudo mkdir -p /opt/epg-merge/{data,config}
#             sudo chown root:root /opt/epg-merge
#             sudo chmod 755 /opt/epg-merge

# INVALID PATHS (these will cause errors):
#   - Relative paths: data/current, ./data, ../data
#   - Home directory: ~/data, /home/user/data
#   - Paths with trailing slash: /data/current/
#   - Mixed separators: /data\current

# VALID PATHS (these work):
#   - /data/current
#   - /opt/epg-merge/data
#   - /srv/epg-merge/data
#   - /var/lib/epg-merge/data